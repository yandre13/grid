import React from 'react'
import Head from 'next/head'
import Grid from 'components/Grid'
import Navbar from 'components/Navbar'

import Link from 'next/link'
import CardHome from 'components/Card/CardHome'
import Footer from 'components/Footer'

import img1 from '../public/img/home_1.jpg'
import img2 from '../public/img/home_2.jpg'
import img3 from '../public/img/home_3.jpg'
import img4 from '../public/img/home_4.jpg'

import {Swiper, SwiperSlide} from 'swiper/react'
import 'swiper/swiper.min.css'
import 'swiper/components/navigation/navigation.min.css'
import 'swiper/components/pagination/pagination.min.css'

import SwiperCore, {Pagination, Zoom} from 'swiper/core'
import {useAppWidth} from 'context'

// install Swiper modules
SwiperCore.use([Pagination, Zoom])

export default function Home() {
	const [width] = useAppWidth()
	const ref = React.useRef()
	React.useEffect(() => {
		const bullets = document.querySelector(
			'.swiper-pagination.swiper-pagination-clickable',
		)
		if (bullets) {
			bullets.style.width = `${4 * width}px`
			bullets.style.display = 'flex'
			bullets.style.marginLeft = `${12 * width}px`
			bullets.style.justifyContent = 'space-between'
		}
	}, [width])
	return (
		<>
			<Head>
				<title>Create Next App</title>
				<meta name="description" content="Generated by create next app" />
				<link rel="icon" href="/favicon.ico" />
			</Head>
			<main className="flex flex-wrap my-3 mr-3 md:my-4 md:mr-4">
				<Navbar />
				<div className="relative h-full w-full md:w-[85%] lg:w-[87%] xl:w-[89%]">
					<Grid />
					<div className="flex flex-wrap">
						{/* ADS */}
						<div className="w-full z-0">
							<Swiper
								pagination={{clickable: true}}
								loop
								className="home_slider"
							>
								<SwiperSlide>
									<article className="w-full">
										<div className="w-full" style={{height: `${width * 15}px`}}>
											<img
												src="/img/carrusel/1.jpg"
												alt=""
												className="absolute top-0 w-full h-full object-cover"
												width={1920}
												height={1080}
											/>
										</div>
									</article>
								</SwiperSlide>
								<SwiperSlide>
									<article className="w-full">
										<div className="w-full" style={{height: `${width * 15}px`}}>
											<img
												src="/img/carrusel/2.jpg"
												alt=""
												className="absolute top-0 w-full h-full object-cover"
												width={1920}
												height={1080}
											/>
										</div>
									</article>
								</SwiperSlide>
								<SwiperSlide>
									<article className="w-full">
										<div className="w-full" style={{height: `${width * 15}px`}}>
											<img
												src="/img/carrusel/3.jpg"
												alt=""
												className="absolute top-0 w-full h-full object-cover"
												width={1920}
												height={1080}
											/>
										</div>
									</article>
								</SwiperSlide>
								<SwiperSlide>
									<article className="w-full">
										<div className="w-full" style={{height: `${width * 15}px`}}>
											<img
												src="/img/carrusel/4.jpg"
												alt=""
												className="absolute top-0 w-full h-full object-cover"
												width={1920}
												height={1080}
											/>
										</div>
									</article>
								</SwiperSlide>
							</Swiper>
						</div>

						{/* imgs */}

						<CardHome
							classnames="w-[75%] ml-[12.5%] mt-[12.5%]
								md:w-[59.94%] md:ml-[13.32%] md:mt-[6.66%]
								lg:w-[40.86%] lg:ml-[4.54%] lg:mr-[54.48%] lg:mt-[4.54%]
								xl:w-[27.587%] xl:ml-[10.344%] xl:mr-0 xl:mt-[3.448%]"
							image={img1}
							style={{height: `${width * 8}px`}}
							aspectRatio="ar3x3"
							title={['Proyecto casa&nbsp;A', 'Miraflores 2019']}
						/>

						<CardHome
							classnames="w-[75%] ml-[12.5%] mt-[25%]
							md:w-[59.94%] md:ml-[13.32%] md:mt-[19.98%]
							lg:w-[40.86%] lg:ml-[45.4%] lg:mt-[9.08%]
							xl:w-[27.587%] xl:ml-[17.24%] xl:mt-[13.792%]"
							image={img2}
							aspectRatio="ar3x3"
							title={['Proyecto casa&nbsp;B', 'Miraflores 2019']}
							Component={
								<div className="z-[-1] absolute md:top-[-24.2%] md:w-[52.28%] md:right-[-26.22%] md:pb-[60.22%] xl:top-[-25%] xl:w-[52.5%] xl:right-[-27.8%] xl:pb-[62.5%]">
									<img
										src="/img/img_v.png"
										className="w-full h-full absolute top-0 left-0 object-cover"
										alt=""
									/>
								</div>
							}
						/>

						<div
							className="hidden lg:block
							lg:w-[22.7%] lg:ml-[4.54%] lg:mr-[54.48%] lg:mt-[-27.24%]
							xl:w-[13.792%] xl:ml-[17.24%] xl:mr-0 xl:mt-[-6.896%]"
						>
							<div className="w-full h-0 relative pb-[120%] xl:pb-[125%]">
								<img
									src="/img/img_a.png"
									className="w-full h-full absolute top-0 left-0 object-cover"
									alt=""
								/>
							</div>
						</div>

						<CardHome
							classnames="w-[75%] ml-[12.5%] mb-[25%] mt-[25%]
							md:w-[59.94%] md:ml-[13.32%] md:mb-0 md:mt-[13.32%]
							lg:w-[40.86%] lg:ml-[4.54%] lg:mr-[9.08%] lg:mt-[9.08%]
							xl:w-[27.587%] xl:ml-[27.584%] xl:mr-0 xl:mt-[6.896%]"
							image={img3}
							aspectRatio="ar3x3"
							title={['Proyecto casa&nbsp;C', 'Miraflores 2019']}
						/>

						<CardHome
							classnames="hidden
							xl:block xl:w-[27.587%] xl:ml-[13.792%] xl:mt-[-17.24%]"
							image={img4}
							aspectRatio="ar3x3"
							title={['Proyecto casa&nbsp;D', 'Miraflores 2019']}
						/>

						<div
							className="hidden xl:block
							xl:w-[6.896%] xl:ml-[31.032%] xl:mr-0 xl:mt-[3.448%]"
						>
							<div className="w-full h-0 relative pb-[150%] xl:pb-[150%]">
								<img
									src="/img/img_v2.png"
									className="w-full h-full absolute top-0 left-0 object-cover"
									alt=""
								/>
							</div>
						</div>

						<div
							className="w-[50%] mx-auto mt-0
                    md:w-[33.3%] md:mx-auto md:mt-[6.66%]
                    lg:w-[22.7%] lg:ml-[9.08%] lg:mr-[4.54%] lg:mt-[45.4%]
                    xl:w-[10.344%] xl:ml-[3.448%] xl:mr-0 xl:mt-[10.344%]
                    "
						>
							<Link href="/portafolio">
								<a className="w-full bg-[#FDD704] relative h-0 flex pb-[25%] md:pb-[20%] xl:pb-[33.33%]">
									<div className="absolute h-full w-[75%] md:w-[80%] xl:w-[66.66%] text-center text-sm md:text-base xl:text-xs font-sec inline-flex justify-center items-center">
										Ver m√°s proyectos
									</div>
									<div className="absolute h-full w-[25%] md:w-[20%] xl:w-[33.33%] text-center text-xl font-third inline-flex justify-center items-center right-0">
										<span className="transform scale-[1.5]">+</span>
									</div>
								</a>
							</Link>
						</div>

						{/* LAST */}
						<article className="w-full">
							<div
								className="w-full h-0 overflow-hidden relative pb-[50%] 
                    md:pb-[39.96%] 
                    lg:pb-[36.32%] 
                    xl:pb-[31.032%]"
							>
								<img
									src="/img/FOOTER.jpg"
									alt=""
									className="absolute top-0 w-full h-full object-cover"
									width={1920}
									height={925}
								/>
							</div>
						</article>
					</div>
					<Footer />
				</div>
			</main>
		</>
	)
}
