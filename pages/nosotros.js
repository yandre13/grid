import React from 'react'
import Head from 'next/head'
import Grid from 'components/Grid'
import Navbar from 'components/Navbar'
import cn from 'classnames'
import Image from 'next/image'
import Footer from 'components/Footer'

import banner from '../public/img/oficina.jpg'

import {useAppWidth, useAppQuery} from 'context'
import Logo from 'components/svgs/Logo'
import logos from 'data/logos'
import useMedia from 'hooks/useMedia'
import useLoaded from 'hooks/useLoaded'

export default function Home() {
	const [width] = useAppWidth()
	const query = useAppQuery()
	const isMobile = useMedia('(max-width: 767px)')
	const loaded = useLoaded()

	const size = React.useMemo(() => {
		if (query === 'xl') {
			return {
				width: 11,
				height: 16,
				ml: 3,
				textWidth: 11,
				titleMt: 4,
				textMt: 3,
				gap: 1,
			}
		} else if (query === 'lg') {
			return {
				width: 8,
				height: 12,
				ml: 2,
				textWidth: 9,
				titleMt: 3,
				textMt: 1,
				gap: 2,
			}
		} else if (query === 'md') {
			return {
				width: 6,
				height: 10,
				ml: 1,
				textWidth: 6,
				titleMt: 2,
				textMt: 0,
				gap: 2,
			}
		} else {
			return {width: 6, height: 9, ml: 1}
		}
	}, [query])

	return (
		<>
			<Head>
				<title>Create Next App</title>
				<meta name="description" content="Generated by create next app" />
				<link rel="icon" href="/favicon.ico" />
			</Head>
			<main className="flex flex-wrap my-3 mx-3 md:my-4 md:ml-0 md:mr-4">
				<Navbar />
				<div className="relative h-full w-full md:w-[85%] lg:w-[87%] xl:w-[89%]">
					{isMobile && (
						<>
							<section className="absolute h-[100vh] bg-black flex flex-col justify-center p-9 -ml-3 -mr-3 w-[calc(100%+1.5rem)]">
								<h1 className="font-sec text-5xl text-white">Somos</h1>
								<div className="pb-16">
									<Logo color="white" classname="w-[200px]" />
								</div>
								<div className="flex items-center gap-3 transform -rotate-90 absolute bottom-[52px] left-[-30px]">
									<div className="border-b border-[#C2C2C2] w-14 h-1"></div>
									<span className="text-white text-xl">Desliza</span>
								</div>
							</section>
							<section className="absolute h-[70vh] p-9 -ml-3 -mr-3 w-[calc(100%+1.5rem)] top-[100vh]">
								<p
									style={{
										lineHeight: 1.5,
										fontSize: 16,
									}}
								>
									Somos un equipo multidisciplinario de arquitectos, diseñadores
									y artistas.
									<br />
									Todos enamorados del arte digital y la visualización en tres
									dimensiones.
									<br />
									Disfrutamos que los proyectos sean un reto, que nos exijan
									aprender constantemente. Queremos que nos busquen por un
									resultado único, una metodología innovadora, y el aporte
									creativo en todo el proceso. Creemos en la oportunidad de
									plasmar espacios aun no existentes y contar una historia en
									ellos.
									<br />
									Compromiso, comunicación y pasión son partes fundamentales de
									cada proyecto. Amamos lo que hacemos. <br />
									Es así de simple.
								</p>
							</section>
						</>
					)}

					<Grid
						classname={cn(isMobile && 'mt-[176vh]')}
						loaded={loaded}
						style={{
							height: isMobile && width * 11 + 1,
							overflow: isMobile ? 'hidden' : '',
						}}
					/>
					<div
						className={cn('flex flex-wrap', isMobile && 'mt-[176vh]')}
						style={{marginBottom: isMobile && width}}
					>
						{/* imgs */}
						<div
							className="overflow-hidden"
							style={{
								width: `${width * size.width}px`,
								height: `${width * size.height}px`,
								marginLeft: `${width * size.ml}px`,
								marginTop: width,
							}}
						>
							<Image src={banner} alt="Somos Visualiza" placeholder="blur" />
						</div>
						{!isMobile && (
							<>
								<div
									style={{
										width: `${width * size.textWidth}px`,
										height: `${width * (query === 'xl' ? 12 : 11)}px`,
										marginLeft: width,
										marginTop: `${width * size.titleMt}px`,
									}}
									className="pl-3"
								>
									<h1
										style={{height: width}}
										className="flex flex-col justify-center font-sec text-5xl"
									>
										Somos
									</h1>
									<h2 style={{height: width}}>
										<Logo
											color="black"
											classname="w-[106px] md:w-[184px] lg:w-[186px] 2xl:w-[216px]"
										/>
									</h2>
									<p
										style={{
											marginTop: `${width * size.textMt}px`,
											lineHeight:
												query === 'xl' ? 1.14 : query === 'lg' ? 1.69 : 1.58,
											fontSize:
												query === 'xl' ? 17 : query === 'lg' ? 16 : 13.6,
										}}
										className={cn(
											query === 'xl' && 'pt-4',
											query === 'lg' && 'pt-1',
											query === 'md' && 'pt-3',
										)}
									>
										Somos un equipo multidisciplinario de arquitectos,
										diseñadores y artistas.
										<br />
										{query === 'md' && <div className="mb-3" />}
										Todos enamorados del arte digital y la visualización en tres
										dimensiones.
										<br />
										{query === 'md' && <div className="mb-5" />}
										Disfrutamos que los proyectos sean un reto, que nos exijan
										aprender constantemente. Queremos que nos busquen por un
										resultado único, una metodología innovadora, y el aporte
										creativo en todo el proceso. Creemos en la oportunidad de
										plasmar espacios aun no existentes y contar una historia en
										ellos.
										<br />
										{query === 'md' && <div className="mb-7" />}
										Compromiso, comunicación y pasión son partes fundamentales
										de cada proyecto. Amamos lo que hacemos. <br />
										Es así de simple.
									</p>
								</div>
								<div
									style={{
										width: `${width * 24}px`,
										height: `${
											width * (query === 'xl' ? 10 : query === 'lg' ? 11 : 14)
										}px`,
										marginLeft: `${width * size.ml}px`,
										marginTop: query === 'xl' ? width : 0,
									}}
								>
									<h3
										className="font-sec text-[22px] md:text-[28px] pl-1 flex items-center"
										style={{height: width}}
									>
										Nuestros clientes.
									</h3>
									<div
										className="flex flex-wrap"
										style={{marginTop: width, columnGap: width * size.gap}}
									>
										{logos.map(({logo, alt}) => (
											<div
												style={{
													width: `${width * 3}px`,
													height: `${width * 2}px`,
													marginBottom: width,
												}}
											>
												<Image src={logo} alt={alt} placeholder="blur" />
											</div>
										))}
									</div>
								</div>
							</>
						)}
					</div>

					{/* <Footer /> */}
				</div>
			</main>
		</>
	)
}
